@page "/"
@rendermode _interactiveWasm

<PageTitle>Welcome</PageTitle>

@if (_username is null || !_isRegistered)
{
    <label>
        Please enter your user name:
        <input type="text" @bind="_username"/>
    </label>
    <button @onclick="Register"
            disabled="@(string.IsNullOrWhiteSpace(_username))">
        Register
    </button>
    <label style="color: red">
        @_error
    </label>
}
else if (_showScene)
{
    <SceneView Class="map-view">
        <Map>
            <Basemap>
                @if (_showNight)
                {
                    <TileLayer>
                        <PortalItem Id="d92d38b812da4a0884e47e68c57ac451" />
                    </TileLayer>
                }
                else
                {
                    <TileLayer>
                        <PortalItem Id="10df2279f9684e4a9f6a7f08febac2a9" />
                    </TileLayer>
                }
            </Basemap>
            @if (_showBorders)
            {
                <FeatureLayer Opacity="0.5">
                    <PortalItem Id="ac80670eb213440ea5899bbf92a04998"/>
                </FeatureLayer>    
            }
        </Map>
    </SceneView>
}
else
{
    <MapView Class="map-view">
        <Map>
            <Basemap>
               @if (_showNight)
                {
                    <TileLayer>
                        <PortalItem Id="d92d38b812da4a0884e47e68c57ac451" />
                    </TileLayer>
                }
               else
               {
                   <TileLayer>
                       <PortalItem Id="10df2279f9684e4a9f6a7f08febac2a9" />
                   </TileLayer>
               }
            </Basemap>
            @if (_showBorders)
            {
                <FeatureLayer Opacity="0.5">
                    <PortalItem Id="ac80670eb213440ea5899bbf92a04998"/>
                </FeatureLayer>
            }
        </Map>
    </MapView>
}